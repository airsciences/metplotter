<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <script>
  var regionlist = [
      {
          "region": "Alpental",
          "stations": [
              {
                  "dataLoggerId": 0,
                  "elevation": 3100.0,
                  "name": "Alpental Base"
              },
              {
                  "dataLoggerId": 1,
                  "elevation": 4350.0,
                  "name": "Alpental Mid"
              },
              {
                  "dataLoggerId": 2,
                  "elevation": 5470.0,
                  "name": "Alpental Summit"
              }
          ]
      },
      {
          "region": "Blewett Pass",
          "stations": [
              {
                  "dataLoggerId": 3,
                  "elevation": 4100.0,
                  "name": "Blewett Pass"
              }
          ]
      },
      {
          "region": "Chinook Pass",
          "stations": [
              {
                  "dataLoggerId": 4,
                  "elevation": 5500.0,
                  "name": "Chinook Pass Base"
              },
              {
                  "dataLoggerId": 5,
                  "elevation": 6240.0,
                  "name": "Chinook Pass Summit"
              }
          ]
      },
      {
          "region": "Crystal",
          "stations": [
              {
                  "dataLoggerId": 6,
                  "elevation": 4570.0,
                  "name": "Crystal Base"
              },
              {
                  "dataLoggerId": 7,
                  "elevation": 6230.0,
                  "name": "Green Valley"
              },
              {
                  "dataLoggerId": 8,
                  "elevation": 6830.0,
                  "name": "Crystal Summit"
              }
          ]
      },
      {
          "region": "Mission Ridge",
          "stations": [
              {
                  "dataLoggerId": 9,
                  "elevation": 4610.0,
                  "name": "Mission Ridge Base"
              },
              {
                  "dataLoggerId": 10,
                  "elevation": 5160.0,
                  "name": "Mission Ridge Mid-Mountain"
              },
              {
                  "dataLoggerId": 11,
                  "elevation": 6730.0,
                  "name": "Mission Ridge Summit"
              }
          ]
      },
      {
          "region": "Mt Baker",
          "stations": [
              {
                  "dataLoggerId": 12,
                  "elevation": 4210.0,
                  "name": "Heather Meadow"
              },
              {
                  "dataLoggerId": 13,
                  "elevation": 5020.0,
                  "name": "Pan Dome"
              }
          ]
      },
      {
          "region": "Mt Hood Meadows",
          "stations": [
              {
                  "dataLoggerId": 14,
                  "elevation": 5380.0,
                  "name": "Mt Hood Meadows"
              },
              {
                  "dataLoggerId": 15,
                  "elevation": 6540.0,
                  "name": "Mt Hood Meadows Blue"
              },
              {
                  "dataLoggerId": 16,
                  "elevation": 7300.0,
                  "name": "Mt Hood Meadows Cascade Express"
              }
          ]
      },
      {
          "region": "None",
          "stations": [
              {
                  "dataLoggerId": 17,
                  "elevation": 3260.0,
                  "name": "Mt St Helens - Coldwater"
              },
              {
                  "dataLoggerId": 18,
                  "elevation": 4340.0,
                  "name": "Mt Washington"
              }
          ]
      },
      {
          "region": "Olympics",
          "stations": [
              {
                  "dataLoggerId": 19,
                  "elevation": 5250.0,
                  "name": "Hurricane Ridge"
              }
          ]
      },
      {
          "region": "Rainier",
          "stations": [
              {
                  "dataLoggerId": 20,
                  "elevation": 5380.0,
                  "name": "Paradise Wind"
              },
              {
                  "dataLoggerId": 21,
                  "elevation": 5400.0,
                  "name": "Paradise"
              },
              {
                  "dataLoggerId": 22,
                  "elevation": 6410.0,
                  "name": "Sunrise Base"
              },
              {
                  "dataLoggerId": 23,
                  "elevation": 6880.0,
                  "name": "Sunrise Upper"
              },
              {
                  "dataLoggerId": 24,
                  "elevation": 10110.0,
                  "name": "Camp Muir"
              }
          ]
      },
      {
          "region": "Ski Bowl",
          "stations": [
              {
                  "dataLoggerId": 25,
                  "elevation": 3660.0,
                  "name": "Ski Bowl Gov't Camp"
              },
              {
                  "dataLoggerId": 26,
                  "elevation": 5010.0,
                  "name": "Ski Bowl Summit"
              }
          ]
      },
      {
          "region": "Snoqualmie Pass",
          "stations": [
              {
                  "dataLoggerId": 27,
                  "elevation": 3010.0,
                  "name": "Snoqualmie Pass"
              },
              {
                  "dataLoggerId": 28,
                  "elevation": 3760.0,
                  "name": "Dodge Ridge"
              },
              {
                  "dataLoggerId": 29,
                  "elevation": 3770.0,
                  "name": "East Shed"
              }
          ]
      },
      {
          "region": "Stevens Pass",
          "stations": [
              {
                  "dataLoggerId": 30,
                  "elevation": 3950.0,
                  "name": "Schmidt Haus"
              },
              {
                  "dataLoggerId": 31,
                  "elevation": 4800.0,
                  "name": "Brooks"
              },
              {
                  "dataLoggerId": 32,
                  "elevation": 4800.0,
                  "name": "Grace Lakes"
              },
              {
                  "dataLoggerId": 33,
                  "elevation": 4850.0,
                  "name": "Brooks Wind"
              },
              {
                  "dataLoggerId": 34,
                  "elevation": 5180.0,
                  "name": "Tye Mill"
              },
              {
                  "dataLoggerId": 35,
                  "elevation": 5250.0,
                  "name": "Skyline Chair"
              }
          ]
      },
      {
          "region": "Stevens Pass East to Leavenworth",
          "stations": [
              {
                  "dataLoggerId": 36,
                  "elevation": 1930.0,
                  "name": "Lake Wenatchee"
              },
              {
                  "dataLoggerId": 37,
                  "elevation": 2700.0,
                  "name": "Berne Snow Camp"
              },
              {
                  "dataLoggerId": 38,
                  "elevation": 4180.0,
                  "name": "Tumwater Mtn"
              },
              {
                  "dataLoggerId": 39,
                  "elevation": 5980.0,
                  "name": "Dirty Face"
              }
          ]
      },
      {
          "region": "Timberline",
          "stations": [
              {
                  "dataLoggerId": 40,
                  "elevation": 5880.0,
                  "name": "Timberline Lodge"
              },
              {
                  "dataLoggerId": 41,
                  "elevation": 6990.0,
                  "name": "Timberline Ski Area - Magic Mile Chair"
              }
          ]
      },
      {
          "region": "Washington Pass",
          "stations": [
              {
                  "dataLoggerId": 42,
                  "elevation": 2170.0,
                  "name": "Mazama"
              },
              {
                  "dataLoggerId": 43,
                  "elevation": 6680.0,
                  "name": "Washington Pass Upper"
              }
          ]
      },
      {
          "region": "White Pass",
          "stations": [
              {
                  "dataLoggerId": 44,
                  "elevation": 4470.0,
                  "name": "White Pass Base"
              },
              {
                  "dataLoggerId": 45,
                  "elevation": 5800.0,
                  "name": "White Pass Upper"
              },
              {
                  "dataLoggerId": 46,
                  "elevation": 5970.0,
                  "name": "Pigtail"
              }
          ]
      }
  ]



$(document).ready(function(){

  var dropdownhtml = '<div class=\"btn-group" id=\"station-dropdown\">\
    <a class=\"btn dropdown-toggle\" data-toggle="dropdown\" href=\"#\">\
      <i class=\"icon-list\"></i>\
    </a>adsfadsfadsf\
  </div>'
// 	  Create the button dropdown div
	  $("body").html(dropdownhtml);

//       Create the Region Unordered list
      var list = document.createElement('ul');
      list.className = "list-group dropdown-menu"

      for(var i = 0; i < regionlist.length; i++) {

//           Create the list item for region:
          var region = document.createElement('li');
          region.className = "list-group-item subheader"
          region.appendChild(document.createTextNode(regionlist[i].region));
          list.appendChild(region);

//           Create the unordered list for stations in one region:
          var stnlist = document.createElement('ul');
          stnlist.className = "list-group-item sublist";
          var stns = list.appendChild(stnlist);

//           Create the list items for stations (stations):
          for(var j = 0; j < regionlist[i].stations.length; j++) {
            var stn = document.createElement('li');
            stn.className = "list-group-item station";
            stn.appendChild(document.createTextNode(regionlist[i].stations[j].name + ' - ' + regionlist[i].stations[j].elevation + ' ft'));
            stns.appendChild(stn);
          }
	  }
      $("#station-dropdown").append(list);
      $(".subheader").next().hide()
      var headers = $(".subheader")
      headers.css("background-color","rgb(235,235,235)");
      headers.css("border-top","1px solid rgb(190,190,190)");
      headers.css("padding","3px 10px");

      $(".station").css("padding","1px 5px");
      $(".sublist").css("padding","1px 1px");
      $(".station").css("list-style-type","none");
  });

// Expand and collapse regions
$(document).ready(function(){
    $(".subheader").click(function(event){
        var next = $(this).next();
        if (next.is(":visible")){
          next.slideUp();
        }else{
          next.slideDown();
        }
    });
});

// Color selected station and regions
$(document).ready(function(){
    $(".station").click(function(event){
        if ($(this).hasClass("selected")){
          $(this).removeClass("selected");
          $(this).removeClass("color1");
          if ($(this).siblings().filter(":not(.selected)").length == $(this).siblings().length){
            $(this).parent().prev().css("background-color","rgb(235,235,235)");
            //             $(this).parent().prev().css("border-color","rgb(200,200,200)");
          }
        }
        else {
          $(this).addClass("selected");
          $(this).addClass("color1");
          $(this).parent().prev().css("background-color","rgb(210,210,210)")
          //           $(this).parent().prev().css("border-color","rgb(170,170,170)");
          //           $(this).parent().prev().css("border-style", "solid");
        }

      event.stopPropagation();
    });
	$('.dropdown-menu').click(function(event){event.stopPropagation();});
});



</script>
  <style>
    .station {padding: "2px 5px";}
    .subheader {padding: "4px 5";}
    .color1 {background-color: rgb(27, 188, 155);}
    .color2 {background-color: rgb(45, 204, 112);}
    .color3 {background-color: rgb(53, 152, 219);}
    .color4 {background-color: rgb(155, 88, 181);}
    .color5 {background-color: rgb(52, 73, 94);}
    .color6 {background-color: rgb(241, 196, 14);}
</style>
</head>
<body>
</body>
</html>
